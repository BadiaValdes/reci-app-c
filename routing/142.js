(self.webpackChunkapp=self.webpackChunkapp||[]).push([[142],{2142:(t,e,n)=>{"use strict";n.r(e),n.d(e,{NomencladoresModule:()=>nt});var o=n(8583),i=n(4655);const a=[{name:"Categor\xeda",action:"addCategory",listAction:1},{name:"Dificultad",action:"addDifficulty",listAction:2},{name:"Measurement",action:"addMeasurement",listAction:3},{name:"Product",action:"addProduct",listAction:4}],r={maxLength:20};var s=n(2789),c=n(9692),l=n(1494),d=n(4e3),u=n(7716),m=n(4102),h=n(1436);const p={name:"delete",title:"Eliminar",description:"Seguro que desea eliminar el elemento?",actionButton:"Delete"};var g=n(2933),f=n(9140);function v(t,e){1&t&&(u.TgZ(0,"th",13),u._uU(1,"No"),u.qZA())}function w(t,e){if(1&t&&(u.TgZ(0,"td",14),u._uU(1),u.qZA()),2&t){const t=e.index;u.xp6(1),u.Oqu(t+1)}}function x(t,e){1&t&&(u.TgZ(0,"th",15),u._uU(1,"Name"),u.qZA())}function b(t,e){if(1&t&&(u.TgZ(0,"td",14),u._uU(1),u.qZA()),2&t){const t=e.$implicit;u.xp6(1),u.Oqu(t.name)}}function _(t,e){1&t&&(u.TgZ(0,"th",15),u._uU(1,"Slug"),u.qZA())}function Z(t,e){if(1&t&&(u.TgZ(0,"td",14),u._uU(1),u.qZA()),2&t){const t=e.$implicit;u.xp6(1),u.Oqu(t.slug)}}function C(t,e){1&t&&(u.TgZ(0,"th",13),u._uU(1,"Action"),u.qZA())}function A(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"td",14),u.TgZ(1,"i",16),u.NdJ("click",function(){const e=u.CHM(t).$implicit;return u.oxw().delete(e.id)}),u.qZA(),u.qZA()}}function T(t,e){1&t&&u._UZ(0,"tr",17)}function y(t,e){1&t&&u._UZ(0,"tr",18)}const N=function(){return[5,10,25]};let k=(()=>{class t{constructor(t,e,n){this._serviceNomencladores=t,this._notificationService=e,this._confirmDialog=n,this.data=a,this.displayedColumns=["no","name","slug","action"],this.dataSource=new s.by([])}ngOnInit(){this.dataHttpOriginSelector(this.data2).subscribe(t=>{this.setTableData(t)}),console.log(this.data2)}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}delete(t){this._confirmDialog.openDialog(p),this._confirmDialog.dialogFinalValue().subscribe(e=>{e&&this.deleteAction(t)})}deleteAction(t){this.deleteHttpOriginSelector(t).then(e=>{this.dataSource.data=this.dataSource.data.filter(e=>e.id!=t),this._notificationService.openSimpleNotificationSnackBar("Datos eliminados","cerrar",{duration:3e3,verticalPosition:"bottom",horizontalPosition:"center"})})}dataHttpOriginSelector(t){switch(t){case 1:return this._serviceNomencladores.getCategory();case 2:return this._serviceNomencladores.getDifficulty();case 3:return this._serviceNomencladores.getMeasurement();case 4:return this._serviceNomencladores.getProducts()}}deleteHttpOriginSelector(t){switch(this.data2){case 1:return this._serviceNomencladores.deleteCategory(t);case 2:return this._serviceNomencladores.deleteDifficulty(t);case 3:return this._serviceNomencladores.deleteMeasurement(t);case 4:return this._serviceNomencladores.deleteProduct(t)}}setTableData(t){this.dataSource.data=t,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(m.z),u.Y36(g.t),u.Y36(f.I))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-table"]],viewQuery:function(t,e){if(1&t&&(u.Gf(c.NW,5),u.Gf(l.YE,5)),2&t){let t;u.iGM(t=u.CRH())&&(e.paginator=t.first),u.iGM(t=u.CRH())&&(e.sort=t.first)}},inputs:{data2:"data2"},decls:18,vars:5,consts:[[1,"mat-elevation-z8","table"],["mat-table","","matSort","",2,"width","100%",3,"dataSource"],["matColumnDef","no",2,"width","33%"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name",2,"width","33%"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","slug",2,"width","33%"],["matColumnDef","action",2,"width","33%"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","element-row",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["paginator",""],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","mat-sort-header",""],["matTooltip","Eliminar","matTooltipPosition","right",1,"bi","bi-trash","delete-action",3,"click"],["mat-header-row",""],["mat-row","",1,"element-row"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"table",1),u.ynx(2,2),u.YNc(3,v,2,0,"th",3),u.YNc(4,w,2,1,"td",4),u.BQk(),u.ynx(5,5),u.YNc(6,x,2,0,"th",6),u.YNc(7,b,2,1,"td",4),u.BQk(),u.ynx(8,7),u.YNc(9,_,2,0,"th",6),u.YNc(10,Z,2,1,"td",4),u.BQk(),u.ynx(11,8),u.YNc(12,C,2,0,"th",3),u.YNc(13,A,2,0,"td",4),u.BQk(),u.YNc(14,T,1,0,"tr",9),u.YNc(15,y,1,0,"tr",10),u.qZA(),u._UZ(16,"mat-paginator",11,12),u.qZA()),2&t&&(u.xp6(1),u.Q6J("dataSource",e.dataSource),u.xp6(13),u.Q6J("matHeaderRowDef",e.displayedColumns),u.xp6(1),u.Q6J("matRowDefColumns",e.displayedColumns),u.xp6(1),u.Q6J("pageSizeOptions",u.DdM(4,N)))},directives:[s.BZ,l.YE,s.w1,s.fO,s.Dz,s.as,s.nj,c.NW,s.ge,s.ev,l.nU,h.gM,s.XQ,s.Gk],styles:[".table[_ngcontent-%COMP%]{margin:0 auto;width:100%;transition:all .5s ease}.element-row[_ngcontent-%COMP%]:hover{background-color:#2427291a}.delete-action[_ngcontent-%COMP%]{transition:all .5s ease}.delete-action[_ngcontent-%COMP%]:hover{color:red;cursor:pointer}@media screen and (max-width: 1000px){.table[_ngcontent-%COMP%]{margin:0 auto;width:60%}}@media screen and (max-width: 700px){.table[_ngcontent-%COMP%]{margin:0 auto;width:80%}}@media screen and (max-width: 500px){.table[_ngcontent-%COMP%]{margin:0 auto;width:80%}}"]}),t})();var M=n(7746),O=n(946),S=n(2458);function E(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"mat-list-item",3),u._UZ(1,"i",4),u.TgZ(2,"div",5),u.NdJ("click",function(){const e=u.CHM(t).$implicit;return u.oxw().selectEvent(e.listAction)}),u._uU(3),u.qZA(),u.TgZ(4,"div",6),u.TgZ(5,"i",7),u.NdJ("click",function(){const e=u.CHM(t).$implicit;return u.oxw().addClickEvent(e.listAction)}),u.qZA(),u.qZA(),u.qZA()}if(2&t){const t=e.$implicit;u.xp6(3),u.hij(" ",t.name," ")}}let q=(()=>{class t{constructor(){this.data=a,this.outputEvent=new u.vpe,this.creationEvent=new u.vpe}ngOnInit(){}addClickEvent(t){this.creationEvent.emit(t)}selectEvent(t){console.log(t),this.outputEvent.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-items"]],outputs:{outputEvent:"outputEvent",creationEvent:"creationEvent"},decls:4,vars:1,consts:[["shoes",""],[1,"list-item-width",2,"margin","0 auto"],["class","item-hover",4,"ngFor","ngForOf"],[1,"item-hover"],["dir","ltr","mat-list-icon","",1,"bi","bi-box-seam","box-animation"],["dir","auto","mat-line","","fxFlexFill","",1,"text-hover",3,"click"],["dir","rtl"],["mat-list-icon","",1,"bi","bi-plus-square-fill","nomencladores-action-button",3,"click"]],template:function(t,e){1&t&&(u.TgZ(0,"mat-list",null,0),u.TgZ(2,"div",1),u.YNc(3,E,6,1,"mat-list-item",2),u.qZA(),u.qZA()),2&t&&(u.xp6(3),u.Q6J("ngForOf",e.data))},directives:[M.i$,o.sg,M.Tg,O.Lv,M.Nh,S.X2],styles:['.item-hover[_ngcontent-%COMP%]{z-index:1;transition:all .5s ease}.item-hover[_ngcontent-%COMP%]:hover{background-color:#2427291a;border-radius:10px}.text-hover[_ngcontent-%COMP%]:hover{cursor:pointer}.text-hover[_ngcontent-%COMP%]:after{position:absolute;bottom:0;left:0;content:"";width:0;height:2px;background-color:#1971c2;transition:all 2s ease-out}.text-hover[_ngcontent-%COMP%]:hover:after{width:100%}.nomencladores-action-button[_ngcontent-%COMP%]:hover{color:#1971c2;cursor:pointer;animation:glow .8s ease;animation-iteration-count:infinite;animation-direction:alternate}@keyframes glow{0%{filter:drop-shadow(0 0 0 rgba(25,113,194,1))}to{filter:drop-shadow(0 0 7px rgba(25,113,194,1))}}.box-animation[_ngcontent-%COMP%]:hover{transition:all .1s ease-in;animation:rotation .2s ease;animation-direction:alternate;animation-iteration-count:infinite}@keyframes rotation{0%{transform:translateX(-2px)}to{transform:translateX(2px)}}.bi-box-seam[_ngcontent-%COMP%]{transition:all .5s ease}.bi-box-seam[_ngcontent-%COMP%]:hover{color:brown}.list-item-width[_ngcontent-%COMP%]{width:50vw}@media screen and (max-width: 500px){.list-item-width[_ngcontent-%COMP%]{width:100vw}}']}),t})();var P=n(3679),D=n(5833),J=n(8295),I=n(9983),Y=n(4225),Q=n(1095);function U(t,e){1&t&&(u.TgZ(0,"mat-error"),u._uU(1,"Este campo es obliga"),u.qZA())}function H(t,e){1&t&&(u.TgZ(0,"mat-error"),u._uU(1,"Ya existe"),u.qZA())}let F=(()=>{class t{constructor(t,e,n){this._formBuilder=t,this.asyncValDirective=e,this._generalApi=n,this.nomencladoresConfig=r,this.cancelEvent=new u.vpe,this.name=new P.NI(null,{validators:[P.kI.required],updateOn:"blur"}),this.slug=new P.NI(null,[P.kI.required])}ngOnInit(){console.log(this.formType),this.name.setAsyncValidators(this.asyncValDirective.nomencladoresAsynVal())}sendCancelEvent(){this.cancelEvent.emit(0)}create(){const t=new FormData;t.append("name",this.name_nomenclador.value);let e=this.createSlug(this.name_nomenclador.value);console.log(e),t.append("slug",e),this.post(t).then(t=>{console.log(t),this.sendCancelEvent()},t=>{console.log("Salio algo mal")})}get name_nomenclador(){return this.name}createSlug(t){let e=[...t],n="";return e.forEach(t=>{n+=" "===t?"_":t}),n.toLowerCase()}post(t){switch(this.formType){case 1:return this._generalApi.postCategory(t);case 2:return this._generalApi.postDifficulty(t);case 3:return this._generalApi.postMeasurement(t);case 4:return this._generalApi.postProduct(t)}}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(P.qu),u.Y36(D.r),u.Y36(m.z))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-form"]],inputs:{formType:"formType"},outputs:{cancelEvent:"cancelEvent"},decls:17,vars:7,consts:[["fxLayout","column",1,"mat-elevation-z8","form-style",2,"width","50%","margin","0 auto"],["fxLayout","row","fxFlexAlign","center",2,"margin","0 auto","width","90%"],["appearance","fill",2,"width","100%"],["for","name"],["appInputHostListener","","matInput","","appInputHostListener","","id","name","name","name","type","text","required","",3,"formControl","maxLength"],["nameInput",""],[4,"ngIf"],["fxLayout","row"],["mat-button","","color","primary",2,"display","inline-block","width","100%","text-align","center",3,"disabled","click"],["mat-button","","color","warn",2,"display","inline-block","width","100%","text-align","center",3,"click"]],template:function(t,e){if(1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"mat-form-field",2),u.TgZ(3,"mat-label",3),u._uU(4,"Nombre:"),u.qZA(),u._UZ(5,"input",4,5),u.YNc(7,U,2,0,"mat-error",6),u.YNc(8,H,2,0,"mat-error",6),u.TgZ(9,"mat-hint"),u._uU(10),u.qZA(),u.qZA(),u.qZA(),u.TgZ(11,"div",7),u.TgZ(12,"button",8),u.NdJ("click",function(){return e.create()}),u._uU(13," Create "),u.qZA(),u.qZA(),u.TgZ(14,"div",7),u.TgZ(15,"button",9),u.NdJ("click",function(){return e.sendCancelEvent()}),u._uU(16," Cancel "),u.qZA(),u.qZA(),u.qZA()),2&t){const t=u.MAs(6);u.xp6(5),u.Q6J("formControl",e.name)("maxLength",e.nomencladoresConfig.maxLength),u.xp6(2),u.Q6J("ngIf",e.name.invalid&&(e.name.dirty||e.name.touched)&&(null==e.name.errors?null:e.name.errors.required)),u.xp6(1),u.Q6J("ngIf",null==e.name.errors?null:e.name.errors.asyncVal),u.xp6(2),u.AsE("",(null==t.value?null:t.value.length)||0,"/",e.nomencladoresConfig.maxLength,""),u.xp6(2),u.Q6J("disabled",e.name.invalid)}},directives:[J.KE,J.hX,I.Nt,P.Fj,Y.t,P.Q7,P.JJ,P.oH,o.O5,J.bx,Q.lW,J.TO],styles:[".form-style[_ngcontent-%COMP%]{border-radius:10px;background-color:#3b425205;padding-top:10px;padding-bottom:10px}"]}),t})();function L(t,e){if(1&t&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&t){const t=u.oxw();u.Q6J("@inOutAnimation",void 0),u.xp6(1),u.hij("/",t.nomencladorSelected,"")}}function z(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"i",9),u.NdJ("click",function(){return u.CHM(t),u.oxw().nomencladores_data=null})("click",function(){return u.CHM(t),u.oxw().nomencladorSelectorName(0)}),u.qZA()}2&t&&u.Q6J("@inOutAnimation",void 0)}function V(t,e){1&t&&(u.TgZ(0,"div",10),u.TgZ(1,"div"),u.TgZ(2,"p",1),u._uU(3,"Todos tus problemas comienzan aqui."),u.qZA(),u.qZA(),u.qZA()),2&t&&u.Q6J("@inOutAnimation",void 0)}function B(t,e){if(1&t&&u._UZ(0,"app-table",11),2&t){const t=u.oxw();u.Q6J("@inOutAnimation",void 0)("data2",t.selector)}}function G(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"app-items",12),u.NdJ("outputEvent",function(e){return u.CHM(t),u.oxw().selectEvent(e)})("creationEvent",function(e){return u.CHM(t),u.oxw().addClickEvent(e)}),u.qZA()}2&t&&u.Q6J("@inOutAnimation",void 0)}function X(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"app-form",13),u.NdJ("cancelEvent",function(e){return u.CHM(t),u.oxw().addClickEvent(e)}),u.qZA()}if(2&t){const t=u.oxw();u.Q6J("@inOutAnimation",void 0)("formType",t.formNomencladorValue)}}let $=(()=>{class t{constructor(t){this._serviceNomencladores=t,this.data=a,this.selector=null,this.nomencladores_data=null,this.showForm=!1,this.formNomencladorValue=0,this.showMotivationText=!0,this.nomencladorSelected=null,this.displayedColumns=["no","name","slug","action"],this.dataSource=new s.by([])}ngOnInit(){setTimeout(()=>{this.showMotivationText=!1},3e3)}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}addClickEvent(t){0==t?(this.showForm=!1,console.log(`El click se dio en ${t}`)):(this.showForm=!0,this.formNomencladorValue=t),this.nomencladorSelectorName(t),console.log(`El click se dio en ${t}`)}selectEvent(t){this.dataHttpOriginSelector(t),this.selector=t,this.nomencladorSelectorName(t)}nomencladorSelectorName(t){switch(t){case 1:this.nomencladorSelected="Categoria";break;case 2:this.nomencladorSelected="Dificultad";break;case 3:this.nomencladorSelected="Measurement";break;case 4:this.nomencladorSelected="Product";break;default:this.nomencladorSelected=null}}delete(t){console.log(`Eliminar ${t}`)}dataHttpOriginSelector(t){switch(t){case 1:this._serviceNomencladores.getCategory().subscribe(t=>{this.setTableData(t)});break;case 2:this._serviceNomencladores.getDifficulty().subscribe(t=>{this.setTableData(t)});break;case 3:this._serviceNomencladores.getMeasurement().subscribe(t=>{this.setTableData(t)});break;case 4:this._serviceNomencladores.getProducts().subscribe(t=>{this.setTableData(t)})}}setTableData(t){this.nomencladores_data=t,this.dataSource.data=t,setTimeout(()=>{this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(m.z))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-list"]],viewQuery:function(t,e){if(1&t&&(u.Gf(c.NW,5),u.Gf(l.YE,5)),2&t){let t;u.iGM(t=u.CRH())&&(e.paginator=t.first),u.iGM(t=u.CRH())&&(e.sort=t.first)}},decls:10,vars:6,consts:[["fxLayoutAlign","center",2,"margin","0 auto","min-height","90vh"],[2,"font-size","2em","text-align","center"],[4,"ngIf"],["matTooltip","Volver","matTooltipPosition","below","class","bi bi-arrow-counterclockwise back-arrow",3,"click",4,"ngIf"],[1,"container-width",2,"position","relative","margin","0 auto"],["fxLayoutAlign","center center","fxLayout","row",4,"ngIf"],["style","margin: 0 auto; position: relative",3,"data2",4,"ngIf"],["style","margin: 0 auto; position: absolute; left: 0px; top: 0px",3,"outputEvent","creationEvent",4,"ngIf"],[3,"formType","cancelEvent",4,"ngIf"],["matTooltip","Volver","matTooltipPosition","below",1,"bi","bi-arrow-counterclockwise","back-arrow",3,"click"],["fxLayoutAlign","center center","fxLayout","row"],[2,"margin","0 auto","position","relative",3,"data2"],[2,"margin","0 auto","position","absolute","left","0px","top","0px",3,"outputEvent","creationEvent"],[3,"formType","cancelEvent"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"p",1),u._uU(2," Nomencladores"),u.YNc(3,L,2,2,"span",2),u.YNc(4,z,1,1,"i",3),u.qZA(),u.TgZ(5,"div",4),u.YNc(6,V,4,1,"div",5),u.YNc(7,B,1,2,"app-table",6),u.YNc(8,G,1,1,"app-items",7),u.YNc(9,X,1,2,"app-form",8),u.qZA(),u.qZA()),2&t&&(u.xp6(3),u.Q6J("ngIf",null!=e.nomencladorSelected),u.xp6(1),u.Q6J("ngIf",null!=e.nomencladores_data),u.xp6(2),u.Q6J("ngIf",e.showMotivationText),u.xp6(1),u.Q6J("ngIf",null!=e.nomencladores_data&&!e.showForm),u.xp6(1),u.Q6J("ngIf",null==e.nomencladores_data&&!e.showForm&&!e.showMotivationText),u.xp6(1),u.Q6J("ngIf",e.showForm&&!e.showMotivationText))},directives:[o.O5,h.gM,k,q,F],styles:[".item-hover[_ngcontent-%COMP%]:hover{background-color:#2427291a;border-radius:10px}.item-hover[_ngcontent-%COMP%]{z-index:1}.text-hover[_ngcontent-%COMP%]:hover{cursor:pointer}.nomencladores-action-button[_ngcontent-%COMP%]:hover{color:#1971c2;cursor:pointer}.back-arrow[_ngcontent-%COMP%]{transition:all .5s ease}.back-arrow[_ngcontent-%COMP%]:hover{color:#1971c2;cursor:pointer}.container-width[_ngcontent-%COMP%]{width:50%}@media screen and (max-width: 500px){.container-width[_ngcontent-%COMP%]{width:100%}}"],data:{animation:[d.lw]}}),t})();var R=n(4981);const j=[{path:"",component:$,canActivate:[(()=>{class t{constructor(t,e){this.userService=t,this.router=e}canActivate(t,e){return this.isLogedIn()?(console.log(t.data.rol),this.isAdmin(t.data.rol)):this.router.parseUrl("/login")}isLogedIn(){return!!this.userService.isAuth()}isAdmin(t){let e=!1,n=JSON.parse(this.userService.getLocalSotrage().getItem("user")).groups;return t.forEach(t=>{e=e||n.find(e=>e==t)}),!!e||this.router.parseUrl("/recipe")}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(R.K),u.LFG(i.F0))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()],data:{rol:["admin","staff"]}}];let W=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[i.Bz.forChild(j)],i.Bz]}),t})();var K=n(2522),tt=n(7441),et=n(3416);let nt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[o.ez,W,M.ie,s.p0,c.TU,l.JX,K.g0,h.AV,P.UX,P.u5,J.lN,I.c,tt.LD,Q.ot,et.Z]]}),t})()}}]);